var me=Object.defineProperty;var Se=(r,e,t)=>e in r?me(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var A=(r,e,t)=>(Se(r,typeof e!="symbol"?e+"":e,t),t);import{_ as Ce}from"./iframe-3b50794c.js";import{g as De}from"./_commonjsHelpers-de833af9.js";import{I as Ie,v as we}from"./preview-errors-dde4324f.js";let Fe=0;function be(r,e,t){let n="";window.customElements.get(r)&&(n=(Fe++).toString()),window.customElements.define(r+n,e,t)}const K="update-start",M="update-finish",W="objects-select",B="layout-start",z="layout-finish",$="zoom-change",Z="viewport-center-change";var Ne=Object.getOwnPropertyNames,Ue=Object.getOwnPropertySymbols,je=Object.prototype.hasOwnProperty;function ee(r,e){return function(n,a,i){return r(n,a,i)&&e(n,a,i)}}function V(r){return function(t,n,a){if(!t||!n||typeof t!="object"||typeof n!="object")return r(t,n,a);var i=a.cache,l=i.get(t),c=i.get(n);if(l&&c)return l===n&&c===t;i.set(t,n),i.set(n,t);var u=r(t,n,a);return i.delete(t),i.delete(n),u}}function te(r){return Ne(r).concat(Ue(r))}var Ge=Object.hasOwn||function(r,e){return je.call(r,e)};function U(r,e){return r===e||!r&&!e&&r!==r&&e!==e}var Me="__v",qe="__o",ke="_owner",re=Object.getOwnPropertyDescriptor,ne=Object.keys;function xe(r,e,t){var n=r.length;if(e.length!==n)return!1;for(;n-- >0;)if(!t.equals(r[n],e[n],n,n,r,e,t))return!1;return!0}function Ve(r,e){return U(r.getTime(),e.getTime())}function Ye(r,e){return r.name===e.name&&r.message===e.message&&r.cause===e.cause&&r.stack===e.stack}function He(r,e){return r===e}function ae(r,e,t){var n=r.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=r.entries(),l,c,u=0;(l=i.next())&&!l.done;){for(var d=e.entries(),T=!1,R=0;(c=d.next())&&!c.done;){if(a[R]){R++;continue}var y=l.value,P=c.value;if(t.equals(y[0],P[0],u,R,r,e,t)&&t.equals(y[1],P[1],y[0],P[0],r,e,t)){T=a[R]=!0;break}R++}if(!T)return!1;u++}return!0}var Ke=U;function We(r,e,t){var n=ne(r),a=n.length;if(ne(e).length!==a)return!1;for(;a-- >0;)if(!de(r,e,t,n[a]))return!1;return!0}function G(r,e,t){var n=te(r),a=n.length;if(te(e).length!==a)return!1;for(var i,l,c;a-- >0;)if(i=n[a],!de(r,e,t,i)||(l=re(r,i),c=re(e,i),(l||c)&&(!l||!c||l.configurable!==c.configurable||l.enumerable!==c.enumerable||l.writable!==c.writable)))return!1;return!0}function Be(r,e){return U(r.valueOf(),e.valueOf())}function ze(r,e){return r.source===e.source&&r.flags===e.flags}function se(r,e,t){var n=r.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=r.values(),l,c;(l=i.next())&&!l.done;){for(var u=e.values(),d=!1,T=0;(c=u.next())&&!c.done;){if(!a[T]&&t.equals(l.value,c.value,l.value,c.value,r,e,t)){d=a[T]=!0;break}T++}if(!d)return!1}return!0}function $e(r,e){var t=r.length;if(e.length!==t)return!1;for(;t-- >0;)if(r[t]!==e[t])return!1;return!0}function Ze(r,e){return r.hostname===e.hostname&&r.pathname===e.pathname&&r.protocol===e.protocol&&r.port===e.port&&r.hash===e.hash&&r.username===e.username&&r.password===e.password}function de(r,e,t,n){return(n===ke||n===qe||n===Me)&&(r.$$typeof||e.$$typeof)?!0:Ge(e,n)&&t.equals(r[n],e[n],n,n,r,e,t)}var Xe="[object Arguments]",Je="[object Boolean]",Qe="[object Date]",et="[object Error]",tt="[object Map]",rt="[object Number]",nt="[object Object]",at="[object RegExp]",st="[object Set]",it="[object String]",ot="[object URL]",ct=Array.isArray,ie=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,oe=Object.assign,lt=Object.prototype.toString.call.bind(Object.prototype.toString);function ut(r){var e=r.areArraysEqual,t=r.areDatesEqual,n=r.areErrorsEqual,a=r.areFunctionsEqual,i=r.areMapsEqual,l=r.areNumbersEqual,c=r.areObjectsEqual,u=r.arePrimitiveWrappersEqual,d=r.areRegExpsEqual,T=r.areSetsEqual,R=r.areTypedArraysEqual,y=r.areUrlsEqual;return function(_,o,p){if(_===o)return!0;if(_==null||o==null)return!1;var f=typeof _;if(f!==typeof o)return!1;if(f!=="object")return f==="number"?l(_,o,p):f==="function"?a(_,o,p):!1;var g=_.constructor;if(g!==o.constructor)return!1;if(g===Object)return c(_,o,p);if(ct(_))return e(_,o,p);if(ie!=null&&ie(_))return R(_,o,p);if(g===Date)return t(_,o,p);if(g===RegExp)return d(_,o,p);if(g===Map)return i(_,o,p);if(g===Set)return T(_,o,p);var s=lt(_);return s===Qe?t(_,o,p):s===at?d(_,o,p):s===tt?i(_,o,p):s===st?T(_,o,p):s===nt?typeof _.then!="function"&&typeof o.then!="function"&&c(_,o,p):s===ot?y(_,o,p):s===et?n(_,o,p):s===Xe?c(_,o,p):s===Je||s===rt||s===it?u(_,o,p):!1}}function pt(r){var e=r.circular,t=r.createCustomConfig,n=r.strict,a={areArraysEqual:n?G:xe,areDatesEqual:Ve,areErrorsEqual:Ye,areFunctionsEqual:He,areMapsEqual:n?ee(ae,G):ae,areNumbersEqual:Ke,areObjectsEqual:n?G:We,arePrimitiveWrappersEqual:Be,areRegExpsEqual:ze,areSetsEqual:n?ee(se,G):se,areTypedArraysEqual:n?G:$e,areUrlsEqual:Ze};if(t&&(a=oe({},a,t(a))),e){var i=V(a.areArraysEqual),l=V(a.areMapsEqual),c=V(a.areObjectsEqual),u=V(a.areSetsEqual);a=oe({},a,{areArraysEqual:i,areMapsEqual:l,areObjectsEqual:c,areSetsEqual:u})}return a}function _t(r){return function(e,t,n,a,i,l,c){return r(e,t,c)}}function Et(r){var e=r.circular,t=r.comparator,n=r.createState,a=r.equals,i=r.strict;if(n)return function(u,d){var T=n(),R=T.cache,y=R===void 0?e?new WeakMap:void 0:R,P=T.meta;return t(u,d,{cache:y,equals:a,meta:P,strict:i})};if(e)return function(u,d){return t(u,d,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var l={cache:void 0,equals:a,meta:void 0,strict:i};return function(u,d){return t(u,d,l)}}w();w({strict:!0});w({circular:!0});w({circular:!0,strict:!0});var dt=w({createInternalComparator:function(){return U}});w({strict:!0,createInternalComparator:function(){return U}});w({circular:!0,createInternalComparator:function(){return U}});w({circular:!0,createInternalComparator:function(){return U},strict:!0});function w(r){r===void 0&&(r={});var e=r.circular,t=e===void 0?!1:e,n=r.createInternalComparator,a=r.createState,i=r.strict,l=i===void 0?!1:i,c=pt(r),u=ut(c),d=n?n(u):_t(u);return Et({circular:t,comparator:u,createState:a,equals:d,strict:l})}class fe{constructor(e){A(this,"_dirty");A(this,"_value");A(this,"_lastAppliedValue");this._value=e,this._lastAppliedValue=e,this._dirty=!0}get dirty(){return this._dirty}get value(){return this._value}get lastAppliedValue(){return this._lastAppliedValue}changeValue(e){return this.valuesEquals(e,this._lastAppliedValue)?(this._value=this._lastAppliedValue,this._dirty=!1,!1):(this._value=e,this._dirty=!0,!0)}valueApplied(){this._dirty=!1,this._lastAppliedValue=this._value}cancel(){this._dirty=!1,this._value=this._lastAppliedValue}}class Tr extends fe{constructor(e){super(e)}valuesEquals(){return!1}}class Y extends fe{constructor(e){super(e)}valuesEquals(e,t){return dt(e,t)}}function Or(r,e,t){const n=r.dirty,a=e.dirty;return(n||a)&&(t(r.value,e.value),n&&r.valueApplied(),a&&e.valueApplied()),n||a}const ft="class",ht="leaf-property",Tt="properties-group",Ot="property-to-class",Rt="include-group",X="http://www.w3.org/2000/svg",vt="http://www.w3.org/XML/1998/namespace",ce="99999";function h(r){return r!=null}function At(r){const e=r.ownerDocument.createElementNS(X,"svg");return e.style.position="absolute",e.style.left=ce,e.style.top=ce,e}function gt(r,e,t,n){const a=r.ownerDocument.createElementNS(X,"tspan");return a.setAttributeNS(vt,"xml:space","preserve"),a.style.fontSize=e.toString(),a.style.fontWeight=t.toString(),a.textContent=n,a}function yt(r){return r.ownerDocument.createElementNS(X,"text")}const he="property",Te="group",Oe="property-to-class-reference",Re="include-group",Rr="rectangle",Pt="round-rectangle",Lt=1,mt={x:0,y:0},St={top:10,bottom:10,left:10,right:10},vr=10,Ar=300,Ct=8,gr=8,yr=12,Pr=12,Dt=20,It=13,wt=600,Lr=8,mr=8,Ft=8,Sr=8,Cr="#D5DCE3",Dr=1,bt="unknown",le=!1,Nt=Pt,Ir=10,wr=10,Fr="#E7EAED",br=2,Nr="#EDF1F5",Ur="#D6EDFF",jr=Ct+Dt+Ft,Ut="unknown",jt="unknown",Gt=!1,Mt=!1,Gr=14,qt=11,kt=400,Mr=10,qr="#000000",kr="#FF5260",xr="#626D82",Vr="#D6EDFF",Yr=4,Hr="*",xt="unknown",Vt=!1,Kr=20,Yt=12,Ht=600,Wr="#FFB02E",Br=20,zr=8,$r=4,Zr=4,Xr=8,Jr=10,Qr=8,en=8,tn=8,rn=8,nn="#D6EDFF",Kt=!0,an="#FFB02E",sn="#FF7A00",on=2,cn=4,Wt=!0,ln="#B4BFCF",un="#626D82",pn=2,_n=4,Bt=500,En="â€¦",dn=2;function H(r,e){return e.flatMap(t=>{const n=r.resolveLike(t);return h(n)?[n]:[]})}function ue(r,e){return e.flatMap(t=>{const n=r.resolveObject(t);return h(n)?[n]:[]})}class zt{constructor(e){A(this,"_classRectangleCornerRadiusFunction",e=>this.castToDefaultClassObject(e).shape);A(this,"_dirty",!1);this._markDirtyFunction=e}castToDefaultClassObject(e){return e}castToDefaultLeafPropertyObject(e){return e}castToDefaultPropertiesGroupObject(e){return e}castToDefaultIncludePropertiesGroupRelationObject(e){return e}castToDefaultPropertyToClassRelationObject(e){return e}invalidate(){this._dirty=!0,this._markDirtyFunction()}get dirty(){return this._dirty}valueApplied(){this._dirty=!1}get classRectangleCornerRadiusFunction(){return this._classRectangleCornerRadiusFunction}set classRectangleCornerRadiusFunction(e){this._classRectangleCornerRadiusFunction=e,this.invalidate()}convertToMutableClassDraft(e,t){const n=this.castToDefaultClassObject(e);return{key:t(n),type:ft,original:e}}convertToMutableLeafPropertyDraft(e,t){const n=this.castToDefaultLeafPropertyObject(e);return{key:t(n),type:ht,original:e}}convertToMutablePropertiesGroupDraft(e,t){const n=this.castToDefaultPropertiesGroupObject(e);return{key:t(n),type:Tt,original:e}}convertToMutableIncludePropertiesGroupRelationDraft(e,t){const n=this.castToDefaultIncludePropertiesGroupRelationObject(e);return{key:t(n),type:Rt,original:e}}convertToMutablePropertyToClassRelationDraft(e,t){const n=this.castToDefaultPropertyToClassRelationObject(e);return{key:t(n),type:Ot,original:e}}propertySeparator(e,t,n){switch(e.kind){case Te:return n(e);default:case he:return t(e)}}relationSeparator(e,t,n){switch(e.kind){case Re:return t(e);default:case Oe:return n(e)}}fillClass(e,t,n,a){const i=this.castToDefaultClassObject(e.original),l=Object.assign(e,{name:i.name??bt,shape:this._classRectangleCornerRadiusFunction(i)||Nt,deprecated:i.deprecated??le,properties:(i.properties||[]).flatMap(c=>this.propertySeparator(c,u=>{const d=n.get(t(this.castToDefaultLeafPropertyObject(u)));return h(d)?[d]:[]},u=>{const d=a.get(t(this.castToDefaultPropertiesGroupObject(u)));return h(d)?[d]:[]}))});return delete l.original,l}fillLeafProperty(e){const t=this.castToDefaultLeafPropertyObject(e.original),n=Object.assign(e,{name:t.name??Ut,required:t.required??Mt,deprecated:t.deprecated??le,propertyTypeDeprecated:t.propertyTypeDeprecated??Gt,propertyType:t.propertyType??jt});return delete n.original,n}fillPropertiesGroup(e,t,n){const a=this.castToDefaultPropertiesGroupObject(e.original),i=Object.assign(e,{name:a.name??xt,deprecated:a.deprecated??Vt,properties:(a.properties||[]).flatMap(l=>{const c=n.get(t(this.castToDefaultLeafPropertyObject(l)));return h(c)?[c]:[]})});return delete i.original,i}fillIncludePropertiesGroupRelation(e,t,n){const a=this.castToDefaultIncludePropertiesGroupRelationObject(e.original),i=a.includedClassKey,l=a.propertyGroupKey;if(!h(i)||!h(l))return;const c=n.get(i),u=t.get(l);if(!h(c)||!h(u))return;const d=Object.assign(e,{primary:a.primary??Kt,includedClass:c,propertyGroup:u});return delete d.original,d}fillPropertyToClassRelation(e,t,n){const a=this.castToDefaultPropertyToClassRelationObject(e.original),i=a.referenceClassKey,l=a.leafPropertyKey;if(!h(i)||!h(l))return;const c=n.get(i),u=t.get(l);if(!h(c)||!h(u))return;const d=Object.assign(e,{primary:a.primary??Wt,leafProperty:u,referenceClass:c});return delete d.original,d}convert(e){const t=this.createInstanceToKeyFunction(),n=e.classes||[],a=e.relations||[],i=n.flatMap(s=>this.castToDefaultClassObject(s).properties||[]).flatMap(s=>this.propertySeparator(s,E=>[E],E=>[E,...this.castToDefaultPropertiesGroupObject(E).properties||[]])),l=this.toMap(n.map(s=>this.convertToMutableClassDraft(s,t)).map(s=>[s.key,s])),c=this.toMap(i.flatMap(s=>this.propertySeparator(s,E=>[this.convertToMutableLeafPropertyDraft(E,t)],()=>[])).map(s=>[s.key,s])),u=this.toMap(i.flatMap(s=>this.propertySeparator(s,()=>[],E=>[this.convertToMutablePropertiesGroupDraft(E,t)])).map(s=>[s.key,s])),d=this.toMap(a.flatMap(s=>this.relationSeparator(s,E=>[this.convertToMutableIncludePropertiesGroupRelationDraft(E,t)],()=>[])).map(s=>[s.key,s])),T=this.toMap(a.flatMap(s=>this.relationSeparator(s,()=>[],E=>[this.convertToMutablePropertyToClassRelationDraft(E,t)])).map(s=>[s.key,s])),R=new Map([...l.values()].flatMap(s=>{const E=s.original,O=this.fillClass(s,t,c,u);return h(O)?[[E,O]]:[]})),y=new Map([...c.values()].flatMap(s=>{const E=s.original,O=this.fillLeafProperty(s);return h(O)?[[E,O]]:[]})),P=new Map([...u.values()].flatMap(s=>{const E=s.original,O=this.fillPropertiesGroup(s,t,c);return h(O)?[[E,O]]:[]})),_=new Map([...d.values()].flatMap(s=>{const E=s.original,O=this.fillIncludePropertiesGroupRelation(s,u,l);return h(O)?[[E,O]]:[]})),o=new Map([...T.values()].flatMap(s=>{const E=s.original,O=this.fillPropertyToClassRelation(s,c,l);return h(O)?[[E,O]]:[]})),p=[...R.entries(),...y.entries(),...P.entries(),..._.entries(),...o.entries()],f=new Map(p.map(([s,E])=>[s,E])),g=new Map(p.map(([s,E])=>[E,s]));return{content:{classes:n.flatMap(s=>{const E=R.get(s);return h(E)?[E]:[]}),relations:a.flatMap(s=>this.relationSeparator(s,E=>{const O=_.get(E);return h(O)?[O]:[]},E=>{const O=o.get(E);return h(O)?[O]:[]}))},resolveObject(s){return g.get(s)},resolveLike(s){return f.get(s)},get likes(){return[...g.keys()]},get objects(){return[...f.keys()]}}}createInstanceToKeyFunction(){let e=0;const t=new Map;return a=>{if(h(a.key))return a.key;let i=t.get(a);return h(i)||(i=`generated_${e++}`,t.set(a,i)),i}}toMap(e){const t=new Map;return e.reduce((n,a)=>{const i=n.get(a[0]);return h(i)?console.warn(`Duplicate key '${a[0]}' found`,a[0],a[1].original,i):n.set(a[0],a[1]),n},t)}}class $t{constructor(e){A(this,"_operations");this._markDirtyFunction=e,this._operations={navigate:void 0}}get dirty(){return h(this._operations.navigate)}applyChanges(){this._operations.navigate=void 0}scheduleNavigateTo(e,t){this._operations.navigate={objects:e,options:Zt(t)},this._markDirtyFunction()}get deferredOperations(){return{...this._operations}}}function Zt(r){return{insets:r.insets??St}}var ve={exports:{}};(function(r){(function(){function e(o,p){document.addEventListener?o.addEventListener("scroll",p,!1):o.attachEvent("scroll",p)}function t(o){document.body?o():document.addEventListener?document.addEventListener("DOMContentLoaded",function p(){document.removeEventListener("DOMContentLoaded",p),o()}):document.attachEvent("onreadystatechange",function p(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",p),o())})}function n(o){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(o)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function a(o,p){o.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+p+";"}function i(o){var p=o.g.offsetWidth,f=p+100;return o.j.style.width=f+"px",o.i.scrollLeft=f,o.h.scrollLeft=o.h.scrollWidth+100,o.l!==p?(o.l=p,!0):!1}function l(o,p){function f(){var s=g;i(s)&&s.g.parentNode!==null&&p(s.l)}var g=o;e(o.h,f),e(o.i,f),i(o)}function c(o,p,f){p=p||{},f=f||window,this.family=o,this.style=p.style||"normal",this.weight=p.weight||"normal",this.stretch=p.stretch||"normal",this.context=f}var u=null,d=null,T=null,R=null;function y(o){return d===null&&(P(o)&&/Apple/.test(window.navigator.vendor)?(o=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),d=!!o&&603>parseInt(o[1],10)):d=!1),d}function P(o){return R===null&&(R=!!o.document.fonts),R}function _(o,p){var f=o.style,g=o.weight;if(T===null){var s=document.createElement("div");try{s.style.font="condensed 100px sans-serif"}catch{}T=s.style.font!==""}return[f,g,T?o.stretch:"","100px",p].join(" ")}c.prototype.load=function(o,p){var f=this,g=o||"BESbswy",s=0,E=p||3e3,O=new Date().getTime();return new Promise(function(J,Q){if(P(f.context)&&!y(f.context)){var Pe=new Promise(function(F,b){function m(){new Date().getTime()-O>=E?b(Error(""+E+"ms timeout exceeded")):f.context.document.fonts.load(_(f,'"'+f.family+'"'),g).then(function(I){1<=I.length?F():setTimeout(m,25)},b)}m()}),Le=new Promise(function(F,b){s=setTimeout(function(){b(Error(""+E+"ms timeout exceeded"))},E)});Promise.race([Le,Pe]).then(function(){clearTimeout(s),J(f)},Q)}else t(function(){function F(){var v;(v=S!=-1&&C!=-1||S!=-1&&D!=-1||C!=-1&&D!=-1)&&((v=S!=C&&S!=D&&C!=D)||(u===null&&(v=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),u=!!v&&(536>parseInt(v[1],10)||parseInt(v[1],10)===536&&11>=parseInt(v[2],10))),v=u&&(S==q&&C==q&&D==q||S==k&&C==k&&D==k||S==x&&C==x&&D==x)),v=!v),v&&(L.parentNode!==null&&L.parentNode.removeChild(L),clearTimeout(s),J(f))}function b(){if(new Date().getTime()-O>=E)L.parentNode!==null&&L.parentNode.removeChild(L),Q(Error(""+E+"ms timeout exceeded"));else{var v=f.context.document.hidden;(v===!0||v===void 0)&&(S=m.g.offsetWidth,C=I.g.offsetWidth,D=j.g.offsetWidth,F()),s=setTimeout(b,50)}}var m=new n(g),I=new n(g),j=new n(g),S=-1,C=-1,D=-1,q=-1,k=-1,x=-1,L=document.createElement("div");L.dir="ltr",a(m,_(f,"sans-serif")),a(I,_(f,"serif")),a(j,_(f,"monospace")),L.appendChild(m.g),L.appendChild(I.g),L.appendChild(j.g),f.context.document.body.appendChild(L),q=m.g.offsetWidth,k=I.g.offsetWidth,x=j.g.offsetWidth,b(),l(m,function(v){S=v,F()}),a(m,_(f,'"'+f.family+'",sans-serif')),l(I,function(v){C=v,F()}),a(I,_(f,'"'+f.family+'",serif')),l(j,function(v){D=v,F()}),a(j,_(f,'"'+f.family+'",monospace'))})})},r.exports=c})()})(ve);var Xt=ve.exports;const Jt=De(Xt);class Qt{constructor(e){A(this,"_defaultFont");this._container=e;const t=getComputedStyle(this._container).fontFamily.split(",")[0];this._defaultFont=this.waitFontLoad(t,[...new Set([wt,kt,Ht])],[...new Set([It,qt,Yt])])}load(){return this._defaultFont}async waitFontLoad(e,t,n){const a=t.map(i=>new Jt(e,{weight:i}).load(null,1e4).then(()=>new Promise(l=>{const c=At(this._container);this._container.appendChild(c);const u=yt(c),d=gt(c,n[0],i,"Loading...");u.appendChild(d);const T=new ResizeObserver(R=>{for(const y of R)if(y.target===u){T.unobserve(u),c.removeChild(u),this._container.removeChild(c),l();return}T.unobserve(u),c.removeChild(u),this._container.removeChild(c)});T.observe(u),c.appendChild(u)})));try{return await Promise.all(a)}catch(i){return console.error(`Application is failed. Fonts: [${e}] have not been loaded`,i)}}}class Ae extends window.HTMLElement{constructor(){super();A(this,"_converter");A(this,"_selectedObjects");A(this,"_contentObject");A(this,"_zoom");A(this,"_viewportCenter");A(this,"_deferredOperationsManager");A(this,"_animationDuration");A(this,"_embedLock");A(this,"_graphView$");A(this,"_updateScheduled",!1);A(this,"_forceSync",!1);A(this,"_likeConvertResult");this.setAttribute("class","class-view"),this._converter=new zt(this.internalInvalidate.bind(this)),this._contentObject=new Y({}),this._likeConvertResult=this._converter.convert(this._contentObject.value),this._deferredOperationsManager=new $t(this.internalInvalidate.bind(this)),this._selectedObjects=new Y([]),this._zoom=new Y(Lt),this._viewportCenter=new Y(mt),this._embedLock=!0,this._animationDuration=Bt}connectedCallback(){this._embedLock=!1,this.invalidate()}disconnectedCallback(){this._embedLock=!0}invalidate(){this.internalInvalidate(!0)}internalInvalidate(t=!1){this._embedLock||this._updateScheduled||(this._updateScheduled=!0,setTimeout(async()=>{try{this.dispatchEvent(new CustomEvent(K)),await this.applyChanges(t)}catch(n){console.error(n)}finally{this._updateScheduled=!1,this.dispatchEvent(new CustomEvent(M))}},0))}graphView$(){return h(this._graphView$)?this._graphView$:this._graphView$=this.createGraphView()}async applyChanges(t){const n=await this.graphView$();let a=!1;if(t||this._contentObject.dirty||this._converter.dirty){const i=H(this._likeConvertResult,this._selectedObjects.lastAppliedValue);if(this._likeConvertResult=this._converter.convert(this._contentObject.value),n.graphSource=this._likeConvertResult.content,this._contentObject.valueApplied(),this._converter.valueApplied(),!this._selectedObjects.dirty){const l=this.refillByKey(i);this._selectedObjects.changeValue(ue(this._likeConvertResult,l))}a=!0}if((this._selectedObjects.dirty||a||this._forceSync)&&(n.selection=H(this._likeConvertResult,this.selectedObjects),this._selectedObjects.valueApplied()),(this._zoom.dirty||this._forceSync)&&(n.zoom=this._zoom.value,this._zoom.valueApplied()),(this._viewportCenter.dirty||this._forceSync)&&(n.viewportCenter=this._viewportCenter.value,this._viewportCenter.valueApplied()),this._deferredOperationsManager.dirty){const{deferredOperations:i}=this._deferredOperationsManager;n.deferredOperations={navigate:h(i.navigate)?this.convertDeferredNavigate(i.navigate):void 0}}n.dirty&&await n.applyChanges({animationDuration:this.animationDuration}),this._deferredOperationsManager.dirty&&this._deferredOperationsManager.applyChanges(),this.isSomethingDirty(n)&&await this.applyChanges(!1),this._forceSync=!1}async createGraphView(){await new Qt(this).load();const{GraphView:t}=await Ce(()=>import("./graph-view-8dd4e877.js"),["./graph-view-8dd4e877.js","./_commonjsHelpers-de833af9.js","./_commonjs-dynamic-modules-302442b1.js","./iframe-3b50794c.js","./preview-errors-dde4324f.js","./index-356e4a49.js"],import.meta.url),n=new t(this,{layoutStart:this.layoutStart.bind(this),layoutFinish:this.layoutFinish.bind(this),selectionChange:this.userSelectionChange.bind(this),zoomChange:this.userZoomChange.bind(this),viewportCenterChange:this.userViewportCenterChange.bind(this)});return new Promise(a=>{setTimeout(()=>a(n),0)})}isSomethingDirty(t){return this._contentObject.dirty||this._converter.dirty||this._selectedObjects.dirty||this._zoom.dirty||this._viewportCenter.dirty||this._deferredOperationsManager.dirty||t.dirty}layoutStart(){this.dispatchEvent(new CustomEvent(B))}layoutFinish(){this.dispatchEvent(new CustomEvent(z))}userSelectionChange(t){const n=ue(this._likeConvertResult,t);this._selectedObjects.changeValue(n)&&(this.dispatchEvent(new CustomEvent(W,{detail:{oldValue:[...this._selectedObjects.lastAppliedValue],newValue:[...n]},cancelable:!0}))||this._selectedObjects.cancel(),this._forceSync=!0,this.internalInvalidate())}userZoomChange(t){this._zoom.changeValue(t)&&(this.dispatchEvent(new CustomEvent($,{detail:t,cancelable:!0}))||this._zoom.cancel(),this._forceSync=!0,this.internalInvalidate())}userViewportCenterChange(t){this._viewportCenter.changeValue(t)&&(this.dispatchEvent(new CustomEvent(Z,{detail:{...t},cancelable:!0}))||this._viewportCenter.cancel(),this._forceSync=!0,this.internalInvalidate())}get content(){return this._contentObject.value}set content(t){this._contentObject.changeValue(t)&&this.internalInvalidate()}get selectedObjects(){return this._selectedObjects.value||[]}set selectedObjects(t){this._selectedObjects.changeValue(t)&&this.internalInvalidate()}get viewportCenter(){return this._viewportCenter.value}set viewportCenter(t){this._viewportCenter.changeValue(t)&&this.internalInvalidate()}get zoom(){return this._zoom.value}set zoom(t){this._zoom.changeValue(t)&&this.internalInvalidate()}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=t}navigateTo(t,n){this._deferredOperationsManager.scheduleNavigateTo(t,n??{})}get classShapeFunction(){return this._converter.classRectangleCornerRadiusFunction}set classShapeFunction(t){this._converter.classRectangleCornerRadiusFunction=t}addEventListener(t,n,a){super.addEventListener(t,n,a)}removeEventListener(t,n,a){super.removeEventListener(t,n,a)}refillByKey(t){const n=new Set(t.map(a=>a.key));return this._likeConvertResult.likes.filter(a=>n.has(a.key))}convertDeferredNavigate(t){return{objects:H(this._likeConvertResult,t.objects),options:t.options}}}be("class-view",Ae);const{addons:er}=__STORYBOOK_MODULE_PREVIEW_API__,{global:pe}=__STORYBOOK_MODULE_GLOBAL__;var tr="storybook/actions",rr=`${tr}/action-event`,nr={depth:10,clearOnStoryChange:!0,limit:50},ge=(r,e)=>{let t=Object.getPrototypeOf(r);return!t||e(t)?t:ge(t,e)},ar=r=>!!(typeof r=="object"&&r&&ge(r,e=>/^Synthetic(?:Base)?Event$/.test(e.constructor.name))&&typeof r.persist=="function"),sr=r=>{if(ar(r)){let e=Object.create(r.constructor.prototype,Object.getOwnPropertyDescriptors(r));e.persist();let t=Object.getOwnPropertyDescriptor(e,"view"),n=t==null?void 0:t.value;return typeof n=="object"&&(n==null?void 0:n.constructor.name)==="Window"&&Object.defineProperty(e,"view",{...t,value:Object.create(n.constructor.prototype)}),e}return r},ir=()=>typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?we():Date.now().toString(36)+Math.random().toString(36).substring(2);function N(r,e={}){let t={...nr,...e},n=function(...a){var R,y;if(e.implicit){let P=(R="__STORYBOOK_PREVIEW__"in pe?pe.__STORYBOOK_PREVIEW__:void 0)==null?void 0:R.storyRenders.find(_=>_.phase==="playing"||_.phase==="rendering");if(P){let _=!((y=window==null?void 0:window.FEATURES)!=null&&y.disallowImplicitActionsInRenderV8),o=new Ie({phase:P.phase,name:r,deprecated:_});if(_)console.warn(o);else throw o}}let i=er.getChannel(),l=ir(),c=5,u=a.map(sr),d=a.length>1?u:u[0],T={id:l,count:0,data:{name:r,args:d},options:{...t,maxDepth:c+(t.depth||3),allowFunction:t.allowFunction||!1}};i.emit(rr,T)};return n.isAction=!0,n}const{useChannel:or}=__STORYBOOK_MODULE_ADDONS__,{RESET_STORY_ARGS:cr}=__STORYBOOK_MODULE_CORE_EVENTS__,fn=r=>ye(r);function hn(r,e=t=>t){let t;return n=>{or({[cr]:()=>{t=void 0}}),t?Object.assign(t.component,n):t=e({first:!0,component:ye(n),lastArgs:n});const a=r(n,t.component,t)||t.component;return t.first=!1,t.lastArgs=n,a}}function ye(r){const e=new Ae;e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.right="0",e.style.bottom="0";let t=NaN,n=NaN;return e.addEventListener(B,()=>{n=performance.now(),N(B)("Started...")}),e.addEventListener(z,()=>{N(z)(`Finished. ${(performance.now()-n).toFixed(2)} ms`),n=NaN}),e.addEventListener(K,()=>{t=performance.now(),N(K)("Started...")}),e.addEventListener(M,()=>{N(M)(`Finished. ${(performance.now()-t).toFixed(2)} ms`),t=NaN}),e.addEventListener(W,a=>N(W)(a.detail)),e.addEventListener($,a=>N($)(a.detail)),e.addEventListener(Z,a=>N(Z)(a.detail)),e.addEventListener(M,()=>{document.dispatchEvent(new CustomEvent(M))}),Object.assign(e,r),e}function Tn(r,e){return new Array(e).fill(0).map((t,n)=>r+n)}function lr(r={}){return{kind:Oe,...r}}function ur(r={}){return{kind:Re,...r}}function _e(r,e={}){return{key:r,kind:he,...e}}function pr(r,e={}){return{key:r,kind:Te,...e}}function Ee(r,e={}){return{key:r,...e}}function _r(r={}){return{...r}}const On="class",Rn="property",vn="group";function An(r){const e=_e(r+"lpg",{name:"Group property"}),t=_e(r+"lp",{name:"Class property"}),n=pr(r+"pg",{name:"Group",properties:[e]}),a=Ee(r+"c",{name:"Class",properties:[n,t]}),i=Ee(r+"gc"),l=lr({key:`${r}lp-${r}c`,leafPropertyKey:`${r}lp`,referenceClassKey:`${r}c`}),c=ur({key:`${r}pg-${r}gc`,propertyGroupKey:`${r}pg`,includedClassKey:`${r}gc`});return _r({classes:[a,i],relations:[l,c]})}export{Yr as $,Mr as A,Kr as B,On as C,St as D,W as E,zr as F,Br as G,$r as H,Xr as I,Yt as J,Ht as K,Rn as L,Jr as M,Sr as N,Ft as O,vn as P,gr as Q,Rt as R,Rr as S,fn as T,Ot as U,Tt as V,ht as W,Zr as X,tn as Y,rn as Z,Hr as _,pr as a,ft as a0,vr as a1,dt as a2,Fr as a3,br as a4,Ur as a5,Nr as a6,wr as a7,Qr as a8,en as a9,mt as aA,Or as aB,Cr as aa,Dr as ab,dn as ac,mr as ad,qr as ae,kr as af,xr as ag,Lr as ah,Vr as ai,Wr as aj,nn as ak,cn as al,on as am,sn as an,an as ao,_n as ap,pn as aq,un as ar,ln as as,At as at,yt as au,gt as av,En as aw,Tr as ax,Y as ay,Lt as az,Ee as b,_r as c,ur as d,lr as e,Bt as f,_e as g,An as h,h as i,Pt as j,$ as k,Z as l,w as m,yr as n,Pr as o,Dt as p,jr as q,Tn as r,hn as s,It as t,wt as u,Ar as v,Ir as w,Gr as x,qt as y,kt as z};
